# Pact REST Consumer

## Описание

Этот проект демонстрирует использование контрактных тестов с помощью Pact на примере двух микросервисов: 
pact-rest-consumer и pact-rest-provider. Данный сервис (pact-rest-consumer) с точки зрения Pact является потребителем,
он инициирует HTTP GET запросы к pact-rest-provider, который предоставляет в ответ необходимые данные. 
В пакете contractTest расположен пример написания контрактного теста потребителя с использованием LambdaDSL.
Для хранения и верификации контрактов используется Pact Broker.

## Требования

- Java 17
- Docker
- Gradle

## Сборка и запуск

В корне приложения выполните команду для запуска контейнера с Pact Broker:

```bash
docker compose up
```

Pact Broker будет доступен по http://localhost:9292/.

Для запуска контрактных тестов выполните:

```bash
./gradlew contractTest
```
Контракт в формате json сгенерируется в папке build/pacts. Для его публикации, с целью дальнейшей верификации провайдером,
необходимо выполнить:

```bash
./gradlew pactPublish
```

В Pact Broker появится новая интеграция между потребителем и провайдером с установленным контрактом. Для запуска 
верификации контракта провайдером переходим к pact-rest-provider!
